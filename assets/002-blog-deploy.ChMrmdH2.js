import{_ as o}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CF3jKIAV.js";import{d as c,a as E,u as y}from"./chunks/vue-router.0fijYp3S.js";import{a2 as F,a3 as a,a4 as t,a5 as s,a6 as i,a7 as u,B as m,a1 as D,D as A}from"./framework.CL_twgqk.js";import"./app.DJJRq6_7.js";import"./chunks/dayjs.BFInjCTz.js";import"./chunks/vue-i18n.CRimy4L_.js";import"./chunks/pinia.KHo6empO.js";/* empty css                    */import"./chunks/@vueuse/motion.DON3upiQ.js";import"./chunks/nprogress.DUFFUuWH.js";import"./YunComment.vue_vue_type_style_index_0_lang.lpZGJo7w.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.7-8ddEp8.js";import"./post.D4SLBNdn.js";const C=c("/posts/002-blog-deploy",async e=>JSON.parse('{"title":"ä¸ªäººåšå®¢çš„æ­å»ºä¸éƒ¨ç½²","titleTemplate":"%s - yuier","description":"","frontmatter":{"title":"ä¸ªäººåšå®¢çš„æ­å»ºä¸éƒ¨ç½²","titleTemplate":"%s - yuier","date":"2025-03-10 21:32:16","updated":"2025-03-10 21:32:16","author":"yuier","cover":null,"hide":true},"headers":[],"relativePath":"pages/posts/002-blog-deploy.md","lastUpdated":1772277401000}'),{lazy:(e,h)=>e.name===h.name}),H={__name:"002-blog-deploy",setup(e,{expose:h}){const{data:p}=C(),r=y(),d=E(),k=Object.assign(d.meta.frontmatter||{},p.value?.frontmatter||{});return r.currentRoute.value.data=p.value,A("valaxy:frontmatter",k),globalThis.$frontmatter=k,h({frontmatter:{title:"ä¸ªäººåšå®¢çš„æ­å»ºä¸éƒ¨ç½²",titleTemplate:"%s - yuier",date:"2025-03-10 21:32:16",updated:"2025-03-10 21:32:16",author:"yuier",cover:null,hide:!0}}),(n,l)=>{const g=o;return D(),F(g,{frontmatter:m(k)},{"main-content-md":a(()=>[l[0]||(l[0]=s("h2",{id:"ç¼˜èµ·",tabindex:"-1"},[i("ç¼˜èµ· "),s("a",{class:"header-anchor",href:"#ç¼˜èµ·","aria-label":'Permalink to "ç¼˜èµ·"'},"â€‹")],-1)),l[1]||(l[1]=s("blockquote",null,[s("p",null,[i("ä½ è®¤è¯† "),s("a",{href:"https://www.yunyoujun.cn/",target:"_blank",rel:"noreferrer"},"äº‘æ¸¸å›"),i(" å—ï¼Ÿ")])],-1)),l[2]||(l[2]=s("p",null,[i("æ•°å¹´å‰ï¼Œå…´è¶£ä½¿ç„¶åœ°ï¼Œæˆ‘åœ¨äº‘æ¸¸çš„ä¸€ç¯‡"),s("a",{href:"https://www.yunyoujun.cn/posts/how-to-build-your-site",target:"_blank",rel:"noreferrer"},"æ•™ç¨‹"),i("çš„æŒ‡å¯¼ä¸‹æˆåŠŸæ­å»ºèµ·äº†æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢ç½‘ç«™ã€‚ä¸è¿‡å¾ˆå¿«æˆ‘ä¾¿å°†å…¶æŠ›ä¹‹è„‘åï¼Œç°åœ¨è¿å½“æ—¶çš„åŸŸåéƒ½æƒ³ä¸èµ·æ¥äº†ã€‚")],-1)),l[3]||(l[3]=s("p",null,[s("a",{href:"https://zh.moegirl.org.cn/%E9%B8%A1%E4%BD%A0%E5%A4%AA%E7%BE%8E",target:"_blank",rel:"noreferrer"},"ä¸¤å¹´åŠ"),i("å‰ï¼Œäº‘æ¸¸å¼€å§‹å¼€å‘å¹¶å®£ä¼ ä»–çš„ "),s("a",{href:"https://valaxy.site/",target:"_blank",rel:"noreferrer"},"Valaxy"),i(" æ¡†æ¶ã€‚ä¸¤å‘¨å‰ï¼Œæˆ‘å¼€å§‹è€ƒè™‘é‡æ–°æ­å»ºæˆ‘çš„ä¸ªäººåšå®¢ï¼›ä¸¤å¤©å‰ï¼Œæˆ‘å¼€å§‹éƒ¨ç½²æˆ‘çš„åšå®¢ã€‚")],-1)),l[4]||(l[4]=s("p",null,"å¯æƒœçš„æ˜¯ï¼Œå½“åˆäº‘æ¸¸çš„é‚£ç¯‡å…¥é—¨çº§æ•™ç¨‹ä¸­åªè®²äº†å¦‚ä½•ç™½å«– GitHub Pages, å¹¶æœªæ¶‰åŠå¦‚ä½•å°†é™æ€æ–‡ä»¶éƒ¨ç½²åˆ°ä¸ªäººæœåŠ¡å™¨ä¸Šï¼›è€Œä¸”éšç€åšå®¢æ¡†æ¶çš„æ”¹å˜ï¼Œå½“åˆçš„æ•™ç¨‹å·²ç»ä¸å†é€‚åˆæ–°çš„åšå®¢ã€‚å› æ­¤ï¼Œæˆ‘åœ¨è¿™é‡Œé‡æ–°è®°å½•ä¸‹æˆ‘çš„éƒ¨ç½²è¿‡ç¨‹ã€‚",-1)),u(" more "),l[5]||(l[5]=s("p",null,"å½“ç„¶ï¼Œä½œä¸ºä¸ªäººè®°å½•ï¼Œæˆ‘ä¼šç•¥è¿‡å¾ˆå¤šåŸºç¡€ä½†ç¹ççš„å†…å®¹ï¼›æˆ‘å‡è®¾è¯»è€…èƒ½å¤Ÿè‡ªå·±æå®šæˆ‘æ–‡ä¸­æœªæåˆ°çš„æ‰€æœ‰æ­¥éª¤ï¼Œå¦‚æœ‰ä¸è¶³æœ›æµ·æ¶µã€‚",-1)),l[6]||(l[6]=s("h2",{id:"æ­å»ºåšå®¢",tabindex:"-1"},[i("æ­å»ºåšå®¢ "),s("a",{class:"header-anchor",href:"#æ­å»ºåšå®¢","aria-label":'Permalink to "æ­å»ºåšå®¢"'},"â€‹")],-1)),l[7]||(l[7]=s("p",null,[i("è¿™é‡Œå°±ä¸ç»†è®²äº†ï¼ŒValaxy çš„æ–‡æ¡£å†™å¾—è¿˜æ˜¯æŒºè¯¦ç»†çš„ï¼Œç…§ç€åšæ²¡é—®é¢˜ï¼š"),s("a",{href:"https://valaxy.site/guide/getting-started",target:"_blank",rel:"noreferrer"},"å¿«é€Ÿä¸Šæ‰‹")],-1)),l[8]||(l[8]=s("p",null,"è®°å¾—å¯¹é»˜è®¤é…ç½®è¿›è¡Œä¸ªæ€§åŒ–çš„ä¿®æ”¹ã€‚å¦‚æœå¯¹æˆ‘çš„ä¿®æ”¹æ„Ÿå…´è¶£ï¼Œå¯ä»¥æŠŠæˆ‘çš„ä»“åº“å…‹éš†åˆ°æœ¬åœ°å‚è€ƒï¼š",-1)),l[9]||(l[9]=s("p",null,[s("a",{href:"https://github.com/liyuier/liyuier.github.io",target:"_blank",rel:"noreferrer"},"liyuier.github.io")],-1)),l[10]||(l[10]=s("h2",{id:"éƒ¨ç½²åšå®¢",tabindex:"-1"},[i("éƒ¨ç½²åšå®¢ "),s("a",{class:"header-anchor",href:"#éƒ¨ç½²åšå®¢","aria-label":'Permalink to "éƒ¨ç½²åšå®¢"'},"â€‹")],-1)),l[11]||(l[11]=s("h3",{id:"æ€»ä½“æ€è·¯",tabindex:"-1"},[i("æ€»ä½“æ€è·¯ "),s("a",{class:"header-anchor",href:"#æ€»ä½“æ€è·¯","aria-label":'Permalink to "æ€»ä½“æ€è·¯"'},"â€‹")],-1)),l[12]||(l[12]=s("p",null,"éƒ¨ç½²æ–¹æ¡ˆä¸º GitHub Pages ä¸ä¸ªäººæœåŠ¡å™¨åŒéƒ¨ç½²ã€‚GitHub Pages ä½¿ç”¨ Valaxy æä¾›å¥½çš„å·¥ä½œæµæ–‡ä»¶å³å¯ã€‚ä¸ªäººæœåŠ¡å™¨ä¸Šï¼Œæˆ‘æ­å»ºäº†ä¸€ä¸ªè¿œç¨‹ git ä»“åº“ï¼Œå¹¶ä½¿ç”¨ git hooks ï¼Œæ”¶åˆ°æœ¬åœ°æ¨é€åï¼Œå°†ä»£ç å†å…‹éš†åˆ°æœåŠ¡å™¨ä¸Šçš„æ„å»ºç›®å½•ï¼›å†æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼Œæœ€åå°†æ„å»ºå‡ºçš„æ–‡ä»¶å¤åˆ¶åˆ° nginx å·¥ä½œç›®å½•ï¼Œæœ€ç»ˆè‡ªåŠ¨éƒ¨ç½²ã€‚",-1)),l[13]||(l[13]=s("h3",{id:"å‡†å¤‡å·¥ä½œ",tabindex:"-1"},[i("å‡†å¤‡å·¥ä½œ "),s("a",{class:"header-anchor",href:"#å‡†å¤‡å·¥ä½œ","aria-label":'Permalink to "å‡†å¤‡å·¥ä½œ"'},"â€‹")],-1)),l[14]||(l[14]=s("h4",{id:"è¿œç¨‹ä»“åº“",tabindex:"-1"},[i("è¿œç¨‹ä»“åº“ "),s("a",{class:"header-anchor",href:"#è¿œç¨‹ä»“åº“","aria-label":'Permalink to "è¿œç¨‹ä»“åº“"'},"â€‹")],-1)),l[15]||(l[15]=s("p",null,[i("è§æˆ‘çš„å¦ä¸€ç¯‡åšæ–‡ "),s("a",{href:"https://yuier.com/posts/001-build-self-gitrepo-server",target:"_blank",rel:"noreferrer"},"æ­å»ºè‡ªå·±çš„ git è¿œç¨‹ä»“åº“æœåŠ¡")],-1)),l[16]||(l[16]=s("p",null,[i("æœ€ç»ˆæ­å»ºå‡ºçš„åšå®¢è¿œç¨‹ä»“åº“åœ°å€ä¸º "),s("code",null,"/home/git/repos/liyuier.github.io.git")],-1)),l[17]||(l[17]=s("h4",{id:"æ„å»ºç›®å½•",tabindex:"-1"},[i("æ„å»ºç›®å½• "),s("a",{class:"header-anchor",href:"#æ„å»ºç›®å½•","aria-label":'Permalink to "æ„å»ºç›®å½•"'},"â€‹")],-1)),l[18]||(l[18]=s("p",null,[s("code",null,"/usr/dev/blog/liyuier.github.io"),i(" . å®é™…ä¸Šå°±æ˜¯åœ¨æœåŠ¡å™¨ä¸Šçš„ â€œæœ¬åœ°ä»“åº“â€")],-1)),l[19]||(l[19]=s("h4",{id:"nginx-å·¥ä½œç›®å½•",tabindex:"-1"},[i("nginx å·¥ä½œç›®å½• "),s("a",{class:"header-anchor",href:"#nginx-å·¥ä½œç›®å½•","aria-label":'Permalink to "nginx å·¥ä½œç›®å½•"'},"â€‹")],-1)),l[20]||(l[20]=s("p",null,[s("code",null,"/usr/share/nginx/html"),i(" . ç”¨äºä¿å­˜æ„å»ºåçš„æ–‡ä»¶")],-1)),l[21]||(l[21]=s("h4",{id:"æƒé™èµ‹äºˆ",tabindex:"-1"},[i("æƒé™èµ‹äºˆ "),s("a",{class:"header-anchor",href:"#æƒé™èµ‹äºˆ","aria-label":'Permalink to "æƒé™èµ‹äºˆ"'},"â€‹")],-1)),l[22]||(l[22]=s("p",null,[i("git hook è„šæœ¬ç”± "),s("code",null,"git"),i(" ç”¨æˆ·æ‰§è¡Œï¼Œè€Œè„šæœ¬éœ€è¦æœ‰æƒé™ä¿®æ”¹ nginx çš„å·¥ä½œç›®å½•ã€‚ä¸ºæ­¤éœ€è¦è¿›è¡Œæƒé™ä¿®æ”¹ã€‚")],-1)),l[23]||(l[23]=s("p",null,[i("é»˜è®¤æƒ…å†µä¸‹ï¼Œnginx ç”± "),s("code",null,"www-data"),i(" ç»„ä¸‹çš„ "),s("code",null,"www-data"),i(" ç”¨æˆ·æ‰§è¡Œå·¥ä½œè¿›ç¨‹ã€‚ä¸ºäº†å®ç°æˆ‘ä»¬çš„ç›®æ ‡ï¼Œæˆ‘ä»¬éœ€è¦å°† nginx å·¥ä½œç›®å½•æ‰€å±çš„ç”¨æˆ·ç»„æ”¹ä¸º "),s("code",null,"www-data"),i(" ï¼Œç„¶åèµ‹äºˆç»„å†…æˆå‘˜å¯¹è¯¥ç›®å½•çš„å…¨è¯»å†™æ‰§è¡Œæƒé™ï¼Œæœ€åå°† "),s("code",null,"git"),i(" ç”¨æˆ·åŠ å…¥ "),s("code",null,"www-data"),i(" ç»„å†…ã€‚")],-1)),l[24]||(l[24]=s("div",{class:"language-bash max-h-900px"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 1. å°†ç›®å½•ç»„æ”¹ä¸º www-data")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," chgrp"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -R"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," www-data"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/nginx/html")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 2. èµ‹äºˆ www-data ç»„è¯»å†™æ‰§è¡Œæƒé™")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," chmod"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -R"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," g+rwx"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/nginx/html")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 3. å°† git ç”¨æˆ·åŠ å…¥ www-data ç»„")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," usermod"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -aG"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," www-data"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," git")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[25]||(l[25]=s("h3",{id:"å¼€å§‹å·¥ä½œ",tabindex:"-1"},[i("å¼€å§‹å·¥ä½œ "),s("a",{class:"header-anchor",href:"#å¼€å§‹å·¥ä½œ","aria-label":'Permalink to "å¼€å§‹å·¥ä½œ"'},"â€‹")],-1)),l[26]||(l[26]=s("h4",{id:"hook-è„šæœ¬ç¼–å†™",tabindex:"-1"},[i("hook è„šæœ¬ç¼–å†™ "),s("a",{class:"header-anchor",href:"#hook-è„šæœ¬ç¼–å†™","aria-label":'Permalink to "hook è„šæœ¬ç¼–å†™"'},"â€‹")],-1)),l[27]||(l[27]=s("p",null,[i("è¿›å…¥è¿œç¨‹ä»“åº“çš„ "),s("code",null,"hooks"),i(" ç›®å½•ä¸‹ï¼Œå³ "),s("code",null,"/home/git/repos/liyuier.github.io.git/hooks"),i(" ç›®å½•")],-1)),l[28]||(l[28]=s("p",null,[i("åˆ›å»ºåä¸º "),s("code",null,"post-receive"),i(" çš„æ–‡ä»¶ï¼Œå¹¶åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š")],-1)),l[29]||(l[29]=s("div",{class:"vp-code-block-title"},[s("div",{class:"vp-code-block-title-bar"},[s("span",{class:"vp-code-block-title-text","data-title":"post-receive"},"post-receive")]),s("div",{class:"language-bash max-h-900px"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å®šä¹‰æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼ˆæ¨èå­˜æ”¾åœ¨ git ç”¨æˆ·æœ‰æƒé™çš„ç›®å½•ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"LOG_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/home/git/logs/blog_deploy.log"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DEPLOY_LOG_DIR"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$("),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"dirname"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$LOG_FILE"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# åˆ›å»ºæ—¥å¿—ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"mkdir"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -p"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$DEPLOY_LOG_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"chown"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," git:git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$DEPLOY_LOG_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # ç¡®ä¿ç›®å½•æ‰€æœ‰æƒ")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# é‡å®šå‘æ‰€æœ‰è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ï¼ˆè¿½åŠ æ¨¡å¼ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"exec"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >>"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$LOG_FILE"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," 2>&1")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# æ·»åŠ æ—¶é—´æˆ³åˆ†éš”ç¬¦")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -e"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "\\n\\n=== $('),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"date"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},` '+%Y-%m-%d %H:%M:%S') å¼€å§‹éƒ¨ç½² ==="`)]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#!/bin/bash  # æŒ‡å®šä½¿ç”¨ bash shell è§£é‡Šå™¨")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å®šä¹‰å˜é‡ï¼šå·¥ä½œç›®å½•è·¯å¾„ï¼ˆå¿…é¡»ä¸ä¹‹å‰åˆ›å»ºçš„ç›®å½•ä¸€è‡´ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"TARGET"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/usr/dev/blog/liyuier.github.io"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å®šä¹‰å˜é‡ï¼šNginx çš„ç½‘ç«™æ ¹ç›®å½•ï¼ˆæœ€ç»ˆéƒ¨ç½²ä½ç½®ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DEPLOY_DIR"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/usr/share/nginx/html"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å®šä¹‰å˜é‡ï¼šGit è£¸ä»“åº“è·¯å¾„ï¼ˆç”¨äº git å‘½ä»¤æ“ä½œï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"GIT_DIR"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/home/git/repos/liyuier.github.io.git"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "âœ Starting auto deployment..."'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # è¾“å‡ºå¼€å§‹æç¤ºä¿¡æ¯")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å¼ºåˆ¶æ£€å‡ºä»£ç åˆ°å·¥ä½œç›®å½•ï¼ˆ--work-tree æŒ‡å®šå·¥ä½œåŒºï¼Œ--git-dir æŒ‡å®šä»“åº“ä½ç½®ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --work-tree="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$TARGET"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --git-dir="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$GIT_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," checkout"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# åˆ‡æ¢åˆ°å·¥ä½œç›®å½•ï¼ˆå‡†å¤‡æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"cd"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $TARGET")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å®‰è£…ä¾èµ–ï¼ˆ--frozen-lockfile è¡¨ç¤ºä¸¥æ ¼ä½¿ç”¨ lock æ–‡ä»¶ç‰ˆæœ¬ï¼Œé¿å…ç‰ˆæœ¬å†²çªï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"pnpm"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --frozen-lockfile")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼ˆæ ¹æ®é¡¹ç›®é…ç½®ï¼Œç”Ÿæˆ dist/ ç›®å½•ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"pnpm"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," run"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," build")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# æ¸…ç†æ—§çš„éƒ¨ç½²æ–‡ä»¶ï¼ˆé¿å…æ®‹ç•™æ–‡ä»¶å¹²æ‰°ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rm"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -rf"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $DEPLOY_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# é€’å½’å¤åˆ¶æ„å»ºç»“æœåˆ° Nginx ç›®å½•ï¼ˆ-a å‚æ•°ä¿ç•™æ–‡ä»¶å±æ€§ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cp"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -a"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dist/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $DEPLOY_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ä¿®æ”¹éƒ¨ç½²ç›®å½•æ‰€æœ‰æƒï¼ˆå‡è®¾ Nginx ä»¥ www-data ç”¨æˆ·è¿è¡Œï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# sudo chown -R root $DEPLOY_DIR")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "âœ… Deployment completed! Nginx content updated."'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # è¾“å‡ºå®Œæˆæç¤º")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# æ£€æŸ¥é…ç½®è¯­æ³•")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," !"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," nginx"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"then")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "âŒ Nginx é…ç½®æµ‹è¯•å¤±è´¥ï¼Œæ‹’ç»é‡è½½"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >&2")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  exit"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fi")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# æ‰§è¡Œé‡è½½")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," nginx"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -s"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," reload")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "ğŸ”„ Nginx å·²å¹³æ»‘é‡è½½"')])])]),s("button",{class:"code-block-unfold-btn"})])],-1)),l[30]||(l[30]=s("h2",{id:"æœ€ç»ˆå®è·µ",tabindex:"-1"},[i("æœ€ç»ˆå®è·µ "),s("a",{class:"header-anchor",href:"#æœ€ç»ˆå®è·µ","aria-label":'Permalink to "æœ€ç»ˆå®è·µ"'},"â€‹")],-1)),l[31]||(l[31]=s("blockquote",null,[s("p",null,[i("è¿™é‡Œä¸ºäº†"),s("s",null,"å‡å°‘æˆ‘çš„å·¥ä½œé‡"),i("æ–‡ç« ç®€æ´ï¼Œå…ˆå‡è®¾è¯»è€…å·²ç»åœ¨æœåŠ¡å™¨ä¸Šå‡†å¤‡å¥½äº†éƒ¨ç½²ç¯å¢ƒï¼Œå…·ä½“æ¥è¯´å°±æ˜¯æ­è®¾èµ· nginx æœåŠ¡å™¨ï¼›å‡†å¤‡å¥½äº†åšå®¢çš„æ„å»ºç¯å¢ƒï¼ˆpnpmï¼‰")])],-1)),l[32]||(l[32]=s("p",null,"åœ¨æœ¬åœ° PC ä¸Šï¼Œæ·»åŠ ä¸€ç¯‡åšæ–‡ï¼Œç„¶åæäº¤",-1)),l[33]||(l[33]=s("div",{class:"language-bash max-h-900px"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," add"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," .")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," commit"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "ä½ å¯¹æœ¬æ¬¡æäº¤çš„æè¿°"')])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[34]||(l[34]=s("p",null,[i("ç”±äºé‡‡ç”¨ GitHub Pages ä¸ä¸ªäººæœåŠ¡å™¨åŒéƒ¨ç½²ï¼Œä¸ºäº†å‡å°‘å¿ƒç¥æŸè€—ï¼Œå»ºè®®å†™ä¸ªç®€å•çš„è„šæœ¬å®ç°è¿™ä¸€æ­¥ã€‚ç”¨ Windows å¼€å‘å°±å†™ä¸ª "),s("code",null,"deploy.bat"),i(" ï¼Œç”¨ Linux å°±å†™ä¸ª "),s("code",null,"deploy.sh")],-1)),l[35]||(l[35]=s("div",{class:"language- max-h-900px"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"# è¿™é‡Œå‡è®¾å·²ç»åˆ†åˆ«ä¸ºæœ¬åœ°ä»“åº“ç»‘å®šäº† GitHub ä»“å’Œä¸ªäººè¿œç¨‹ä»“")]),i(`
`),s("span",{class:"line"},[s("span",null,"# æŸ¥çœ‹è¿œç¨‹ä»“åº“ç»‘å®šæƒ…å†µ")]),i(`
`),s("span",{class:"line"},[s("span",null,"# git remote -v")]),i(`
`),s("span",{class:"line"},[s("span",null,"# GitHub ä»“")]),i(`
`),s("span",{class:"line"},[s("span",null,"# origin  git@github.com:liyuier/liyuier.github.io.git (fetch)")]),i(`
`),s("span",{class:"line"},[s("span",null,"# origin  git@github.com:liyuier/liyuier.github.io.git (push)")]),i(`
`),s("span",{class:"line"},[s("span",null,"# ä¸ªäººè¿œç¨‹ä»“")]),i(`
`),s("span",{class:"line"},[s("span",null,"# yuier   git@yuier.com:/home/git/repos/liyuier.github.io.git (fetch)")]),i(`
`),s("span",{class:"line"},[s("span",null,"# yuier   git@yuier.com:/home/git/repos/liyuier.github.io.git (push)")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[36]||(l[36]=s("div",{class:"vp-code-block-title"},[s("div",{class:"vp-code-block-title-bar"},[s("span",{class:"vp-code-block-title-text","data-title":"deploy.bat / deploy.sh"},"deploy.bat / deploy.sh")]),s("div",{class:"language-bash max-h-900px"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# åæ­£åšå®¢åªæœ‰è‡ªå·±ä¸€ä¸ªäººå¼€å‘ï¼Œç›´æ¥ push -f ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å…·ä½“æ¨é€çš„åˆ†æ”¯ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œå¹¶ç›¸åº”å¤„ç† GitHub å·¥ä½œæµæ–‡ä»¶ä¸ä¸Šé¢çš„ git hook è„šæœ¬")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# æˆ‘è¿™é‡Œæ‡’å¾—æŠ˜è…¾ï¼Œç›´æ¥æ¨ä¸»åˆ†æ”¯ï¼Œåæ­£å°±ä¸€ä¸ªè‡ªå·±ç”¨çš„åšå®¢")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," push"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," origin"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," master")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," push"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yuier"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," master")])])]),s("button",{class:"code-block-unfold-btn"})])],-1)),l[37]||(l[37]=s("p",null,"æ‰§è¡Œè„šæœ¬åï¼Œæ¨é€åˆ° GitHub ä»“ä¼šæ¯”è¾ƒå¿«ï¼›è€Œæ¨é€åˆ°ä¸ªäººä»“ï¼Œç”±äºéœ€è¦æ‰§è¡Œ git hook è„šæœ¬è¿›è¡Œæ„å»ºä¸éƒ¨ç½²ï¼Œä¼šç¨å¾®å¡ä¸€ä¼šï¼Œè€å¿ƒç­‰å¾…å°±å¥½ã€‚",-1)),l[38]||(l[38]=s("p",null,[i("ç­‰å…¨éƒ¨æ‰§è¡Œå®Œæ¯•åï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨é‡Œè¾“å…¥ "),s("code",null,"<ä½ çš„ nginx æœåŠ¡åœ°å€>"),i(" è®¿é—®ç½‘ç«™äº†ã€‚å¦‚æœéƒ¨ç½²æœ‰é—®é¢˜ï¼Œå°±å¯ä»¥å» git hook ä¸­é…ç½®çš„æ—¥å¿—æ–‡ä»¶ "),s("code",null,"/home/git/logs/blog_deploy.log"),i(" ä¸­æŸ¥çœ‹è¯¦æƒ…ã€‚")],-1)),l[39]||(l[39]=s("figure",null,[s("img",{src:"https://s2.loli.net/2025/03/11/PcqsQJvOKZXAkgE.png",alt:"image.png",loading:"lazy",decoding:"async"})],-1)),l[40]||(l[40]=s("h2",{id:"é™„å½•",tabindex:"-1"},[i("é™„å½• "),s("a",{class:"header-anchor",href:"#é™„å½•","aria-label":'Permalink to "é™„å½•"'},"â€‹")],-1)),l[41]||(l[41]=s("p",null,"å…³äº nginx æœåŠ¡çš„æ­å»ºï¼Œå…¶å®å¯è®²å¯ä¸è®²ï¼Œå› ä¸ºç½‘ä¸Šçš„ç›¸å…³æ–‡ç« å¤ªå¤šäº†ï¼Œå†™å¾—å¥½çš„ä¹Ÿå¾ˆå¤šï¼Œæˆ‘æ— æ„å†æ·»æ— è¶³è½»é‡çš„ä¸€ç¬”ã€‚è¿™é‡ŒåªæŒ‘ä¸€äº›åˆ«äººå†™å¾—å°‘çš„ä¸œè¥¿è®°å½•ä¸‹æ¥ã€‚",-1)),l[42]||(l[42]=s("h3",{id:"åŸŸåè§£æã€æœåŠ¡å¤‡æ¡ˆ",tabindex:"-1"},[i("åŸŸåè§£æã€æœåŠ¡å¤‡æ¡ˆ "),s("a",{class:"header-anchor",href:"#åŸŸåè§£æã€æœåŠ¡å¤‡æ¡ˆ","aria-label":'Permalink to "åŸŸåè§£æã€æœåŠ¡å¤‡æ¡ˆ"'},"â€‹")],-1)),l[43]||(l[43]=s("p",null,"ä¸€èˆ¬çš„äº‘æœåŠ¡å•†éƒ½ä¼šå¯¹è¿™ä¸¤å—æä¾›è¯¦ç»†çš„å¼•å¯¼ï¼Œè·Ÿç€åšå°±è¡Œäº†ã€‚æˆ‘ç”¨çš„æ˜¯è…¾è®¯äº‘ï¼Œä¸ªäººæ„Ÿè§‰é™¤äº†å¤‡æ¡ˆæœ¬èº«çš„ç¹çå¤–æ²¡é‡åˆ°ä»€ä¹ˆç‰™ç™½çš„äº‹æƒ…ã€‚",-1)),l[44]||(l[44]=s("h3",{id:"ssl-è¯ä¹¦çš„ç”³è¯·ä¸é…ç½®",tabindex:"-1"},[i("SSL è¯ä¹¦çš„ç”³è¯·ä¸é…ç½® "),s("a",{class:"header-anchor",href:"#ssl-è¯ä¹¦çš„ç”³è¯·ä¸é…ç½®","aria-label":'Permalink to "SSL è¯ä¹¦çš„ç”³è¯·ä¸é…ç½®"'},"â€‹")],-1)),l[45]||(l[45]=s("p",null,"ç”³è¯·åŒæ ·åœ¨è…¾è®¯äº‘ä¸Šä¸€ç«™å¼è¾¾æˆã€‚è…¾è®¯äº‘ç°åœ¨ï¼ˆ2025 å¹´ 3 æœˆï¼‰å¯ä»¥å…è´¹ç”³è¯· 50 ä¸ªè¯ä¹¦ï¼Œæ¯ä¸ªè¯ä¹¦æœ‰æ•ˆæœŸ 90 å¤©ï¼Œå¤Ÿç”¨å¾ˆä¹…å¾ˆä¹…çš„äº†ã€‚",-1)),l[46]||(l[46]=s("p",null,[i("ç”³è¯·å®Œåï¼Œå¯ä»¥å‚è€ƒ "),s("a",{href:"https://cloud.tencent.com/document/product/400/35244#.E8.AF.81.E4.B9.A6.E5.AE.89.E8.A3.85",target:"_blank",rel:"noreferrer"},"è¯ä¹¦å®‰è£…"),i(" è¿™ä¸ªåœ°æ–¹åœ¨ nginx æœåŠ¡ä¸‹é…ç½®ã€‚")],-1)),l[47]||(l[47]=s("h3",{id:"æœ€åè´´ä¸€ä¸‹æˆ‘çš„-nginx-conf",tabindex:"-1"},[i("æœ€åè´´ä¸€ä¸‹æˆ‘çš„ nginx.conf "),s("a",{class:"header-anchor",href:"#æœ€åè´´ä¸€ä¸‹æˆ‘çš„-nginx-conf","aria-label":'Permalink to "æœ€åè´´ä¸€ä¸‹æˆ‘çš„ nginx.conf"'},"â€‹")],-1)),l[48]||(l[48]=s("div",{class:"vp-code-block-title"},[s("div",{class:"vp-code-block-title-bar"},[s("span",{class:"vp-code-block-title-text","data-title":"/etc/nginx/nginx.conf"},"/etc/nginx/nginx.conf")]),s("div",{class:"language-nginx max-h-900px"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"nginx"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#è¿è¡Œç”¨æˆ·ï¼Œé»˜è®¤å°±æ˜¯ www-data ç»„ä¸‹çš„ www-data")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"user "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"www-data www-data;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#å¯åŠ¨è¿›ç¨‹,é€šå¸¸è®¾ç½®æˆå’Œcpuçš„æ•°é‡ç›¸ç­‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"worker_processes "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#å…¨å±€é”™è¯¯æ—¥å¿—")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"error_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /usr/share/nginx/logs/error.log;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"error_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /usr/share/nginx/logs/notice.log  "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"notice"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"error_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /usr/share/nginx/logs/info.log  info;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#PIDæ–‡ä»¶ï¼Œè®°å½•å½“å‰å¯åŠ¨çš„nginxçš„è¿›ç¨‹ID")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"pid "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       /run/nginx.pid;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#å·¥ä½œæ¨¡å¼åŠè¿æ¥æ•°ä¸Šé™")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"events"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    worker_connections "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1024"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";    "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#å•ä¸ªåå°worker processè¿›ç¨‹çš„æœ€å¤§å¹¶å‘é“¾æ¥æ•°")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#è®¾å®šhttpæœåŠ¡å™¨ï¼Œåˆ©ç”¨å®ƒçš„åå‘ä»£ç†åŠŸèƒ½æä¾›è´Ÿè½½å‡è¡¡æ”¯æŒ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"http"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # è¿™ä¸€å¨æ¥è‡ªè…¾è®¯äº‘æ¨èé…ç½®")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # æ–°å¢ HTTPS ä¼˜åŒ–é…ç½®")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_session_cache "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"shared:SSL:10m;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_session_timeout "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5m"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_protocols "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"TLSv1.2 TLSv1.3;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ç¦ç”¨æ—§ç‰ˆåè®®")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_ciphers "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_prefer_server_ciphers "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # å…¨å±€å¼€å¯æ–‡ä»¶æŒ‡çº¹éªŒè¯")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    etag "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";    ")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #è®¾å®šmimeç±»å‹(é‚®ä»¶æ”¯æŒç±»å‹),ç±»å‹ç”±mime.typesæ–‡ä»¶å®šä¹‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    include "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      /usr/share/nginx/conf/mime.types;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    default_type "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," application/octet-stream;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #è®¾å®šæ—¥å¿—")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        log_format "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," main"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  '[$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"remote_addr"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"] - [$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"remote_user"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"] [$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"time_local"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'] "$'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"request"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`" '`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                      '$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"status"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," $"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"body_bytes_sent"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "$'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http_referer"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`" '`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`                      '"$`),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http_user_agent"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'" "$'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http_x_forwarded_for"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"'`),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    access_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   /usr/share/nginx/logs/access.log "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"main"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    rewrite_log "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"    on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #sendfile æŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨ sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨ï¼Œ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #å¿…é¡»è®¾ä¸º on,å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸º offï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„uptime.")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    sendfile "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #tcp_nopush     on;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #è¿æ¥è¶…æ—¶æ—¶é—´")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    keepalive_timeout "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 120"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    tcp_nodelay "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        #gzipå‹ç¼©å¼€å…³")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        #gzip  on;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #è®¾å®šå®é™…çš„æœåŠ¡å™¨åˆ—è¡¨")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #upstream zp_server1{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #    server 127.0.0.1:8089;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # å¼ºåˆ¶ HTTP è·³è½¬ HTTPSï¼ˆé‡è¦ï¼ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    server"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        listen "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"80"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        server_name "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"yuier.com;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # 301 æ°¸ä¹…é‡å®šå‘")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        return"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 301"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," https://$host$request_uri;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #HTTPSæœåŠ¡å™¨")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    server"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        listen "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"443"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ssl http2;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# å¯ç”¨ HTTP/2")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        server_name "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"yuier.com;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # SSL è¯ä¹¦é…ç½®ï¼ˆè¯·ä¿®æ”¹ä¸ºä½ çš„å®é™…è·¯å¾„ï¼‰")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_certificate "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/usr/share/nginx/ssl/yuier.com_bundle.crt;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# è¯ä¹¦é“¾æ–‡ä»¶")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_certificate_key "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/usr/share/nginx/ssl/yuier.com.key;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ç§é’¥æ–‡ä»¶")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # å¯ç”¨ OCSP Stapling æå‡æ€§èƒ½")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_stapling "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_stapling_verify "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        resolver "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"8.8.8.8"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1.1.1.1"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," valid=300s;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        resolver_timeout "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5s"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # å®‰å…¨å“åº”å¤´")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Strict-Transport-Security "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"max-age=63072000; includeSubDomains; preload"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X-Content-Type-Options nosniff;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X-Frame-Options DENY;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        gzip "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        gzip_types "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        index "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"index.html;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        location"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," / "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # content location")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # root /app;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            root "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/usr/share/nginx/html;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # exact matches -> reverse clean urls -> folders -> not found")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            try_files "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$uri $uri.html $uri/ "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"=404"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # non existent pages")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            error_page "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /404.html;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # a folder without index.html raises 403 in this setup")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            error_page "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"403"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /404.html;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # adjust caching headers")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # files in the assets folder have hashes filenames")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            location"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ~*"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}}," ^/assets/ "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                expires "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"1y;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Cache-Control "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"public, immutable"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"code-block-unfold-btn"})])],-1)),l[49]||(l[49]=s("p",null,[i("ä¸Šé¢æåˆ°äº† "),s("code",null,"mime.types"),i(" æ–‡ä»¶ï¼Œç®€å•è¯´å°±æ˜¯é…ç½®å¯¹äºä¸åŒæ–‡ä»¶ç±»å‹çš„è¯·æ±‚çš„å“åº”ã€‚ä¸‹é¢æ˜¯æˆ‘çš„è¯¥æ–‡ä»¶å†…å®¹ï¼š")],-1)),l[50]||(l[50]=s("div",{class:"vp-code-block-title"},[s("div",{class:"vp-code-block-title-bar"},[s("span",{class:"vp-code-block-title-text","data-title":"mime.types"},"mime.types")]),s("div",{class:"language- max-h-900px"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"types {")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/html                             html htm shtml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/css                              css;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/xml                              xml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/gif                             gif;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/jpeg                            jpeg jpg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/javascript                js;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/atom+xml                  atom;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/rss+xml                   rss;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/mathml                           mml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/plain                            txt;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/vnd.sun.j2me.app-descriptor      jad;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/vnd.wap.wml                      wml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/x-component                      htc;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/png                             png;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/tiff                            tif tiff;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/vnd.wap.wbmp                    wbmp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/x-icon                          ico;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/x-jng                           jng;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/x-ms-bmp                        bmp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/svg+xml                         svg svgz;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/webp                            webp;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/font-woff                 woff;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/java-archive              jar war ear;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/json                      json;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/mac-binhex40              hqx;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/msword                    doc;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/pdf                       pdf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/postscript                ps eps ai;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/rtf                       rtf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.apple.mpegurl         m3u8;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.ms-excel              xls;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.ms-fontobject         eot;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.ms-powerpoint         ppt;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.wap.wmlc              wmlc;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.google-earth.kml+xml  kml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.google-earth.kmz      kmz;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-7z-compressed           7z;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-cocoa                   cco;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-java-archive-diff       jardiff;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-java-jnlp-file          jnlp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-makeself                run;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-perl                    pl pm;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-pilot                   prc pdb;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-rar-compressed          rar;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-redhat-package-manager  rpm;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-sea                     sea;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-shockwave-flash         swf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-stuffit                 sit;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-tcl                     tcl tk;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-x509-ca-cert            der pem crt;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-xpinstall               xpi;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/xhtml+xml                 xhtml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/xspf+xml                  xspf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/zip                       zip;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              bin exe dll;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              deb;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              dmg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              iso img;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              msi msp msm;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.openxmlformats-officedocument.wordprocessingml.document    docx;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.openxmlformats-officedocument.spreadsheetml.sheet          xlsx;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.openxmlformats-officedocument.presentationml.presentation  pptx;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/midi                            mid midi kar;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/mpeg                            mp3;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/ogg                             ogg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/x-m4a                           m4a;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/x-realaudio                     ra;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/3gpp                            3gpp 3gp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/mp2t                            ts;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/mp4                             mp4;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/mpeg                            mpeg mpg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/quicktime                       mov;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/webm                            webm;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-flv                           flv;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-m4v                           m4v;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-mng                           mng;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-ms-asf                        asx asf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-ms-wmv                        wmv;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-msvideo                       avi;")]),i(`
`),s("span",{class:"line"},[s("span",null,"}")])])]),s("button",{class:"code-block-unfold-btn"})])],-1)),l[51]||(l[51]=s("h2",{id:"ä»¥-nginx-éƒ¨ç½²",tabindex:"-1"},[i("ä»¥ nginx éƒ¨ç½² "),s("a",{class:"header-anchor",href:"#ä»¥-nginx-éƒ¨ç½²","aria-label":'Permalink to "ä»¥ nginx éƒ¨ç½²"'},"â€‹")],-1)),l[52]||(l[52]=s("p",null,[i("è§ "),s("a",{href:"https://yuier.com/posts/005-deploy-blog-by-nginx-docker",target:"_blank",rel:"noreferrer"},"ä½¿ç”¨ nginx éƒ¨ç½²åšå®¢")],-1))]),"main-header":a(()=>[t(n.$slots,"main-header")]),"main-header-after":a(()=>[t(n.$slots,"main-header-after")]),"main-nav":a(()=>[t(n.$slots,"main-nav")]),"main-content-before":a(()=>[t(n.$slots,"main-content-before")]),"main-content":a(()=>[t(n.$slots,"main-content")]),"main-content-after":a(()=>[t(n.$slots,"main-content-after")]),"main-nav-before":a(()=>[t(n.$slots,"main-nav-before")]),"main-nav-after":a(()=>[t(n.$slots,"main-nav-after")]),comment:a(()=>[t(n.$slots,"comment")]),footer:a(()=>[t(n.$slots,"footer")]),aside:a(()=>[t(n.$slots,"aside")]),"aside-custom":a(()=>[t(n.$slots,"aside-custom")]),default:a(()=>[t(n.$slots,"default")]),_:3},8,["frontmatter"])}}};export{H as default,C as usePageData};
