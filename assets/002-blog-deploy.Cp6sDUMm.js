import{_ as E}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CMOUyTHd.js";import{d as y,a as c}from"./chunks/vue-router.0Vcg9tQ7.js";import{A as g,D as F,G as a,H as t,I as s,K as u,J as i,u as m,E as D}from"./framework.BuRQkX_n.js";import"./app.YzW-qI6y.js";import"./chunks/dayjs.BqMCNpOC.js";import"./chunks/vue-i18n.zFPGnNCI.js";import"./chunks/pinia.ux3KyVve.js";import"./chunks/@vueuse/motion.DQ4WtMoO.js";import"./chunks/nprogress.CZUfyql0.js";import"./YunComment.vue_vue_type_style_index_0_lang.DXXt1uee.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.CfBNNSAM.js";import"./post.B9paYBkR.js";const A=y("/posts/002-blog-deploy",async h=>JSON.parse('{"title":"个人博客的搭建与部署","titleTemplate":"%s - yuier","description":"","frontmatter":{"title":"个人博客的搭建与部署","titleTemplate":"%s - yuier","date":"2025-03-10 21:32:16","updated":"2025-03-10 21:32:16","author":"yuier","cover":null,"hide":true},"headers":[{"level":2,"title":"缘起","slug":"缘起","link":"#缘起","children":[]},{"level":2,"title":"搭建博客","slug":"搭建博客","link":"#搭建博客","children":[]},{"level":2,"title":"部署博客","slug":"部署博客","link":"#部署博客","children":[{"level":3,"title":"总体思路","slug":"总体思路","link":"#总体思路","children":[]},{"level":3,"title":"准备工作","slug":"准备工作","link":"#准备工作","children":[]},{"level":3,"title":"开始工作","slug":"开始工作","link":"#开始工作","children":[]}]},{"level":2,"title":"最终实践","slug":"最终实践","link":"#最终实践","children":[]},{"level":2,"title":"附录","slug":"附录","link":"#附录","children":[{"level":3,"title":"域名解析、服务备案","slug":"域名解析、服务备案","link":"#域名解析、服务备案","children":[]},{"level":3,"title":"SSL 证书的申请与配置","slug":"ssl-证书的申请与配置","link":"#ssl-证书的申请与配置","children":[]},{"level":3,"title":"最后贴一下我的 nginx.conf","slug":"最后贴一下我的-nginx-conf","link":"#最后贴一下我的-nginx-conf","children":[]}]},{"level":2,"title":"以 nginx 部署","slug":"以-nginx-部署","link":"#以-nginx-部署","children":[]}],"relativePath":"pages/posts/002-blog-deploy.md","lastUpdated":1761905721000}'),{lazy:(h,k)=>h.name===k.name}),O={__name:"002-blog-deploy",setup(h,{expose:k}){var d;const{data:p}=A(),r=c(),e=Object.assign(r.meta.frontmatter||{},((d=p.value)==null?void 0:d.frontmatter)||{});return r.meta.frontmatter=e,g("pageData",p.value),g("valaxy:frontmatter",e),globalThis.$frontmatter=e,k({frontmatter:{title:"个人博客的搭建与部署",titleTemplate:"%s - yuier",date:"2025-03-10 21:32:16",updated:"2025-03-10 21:32:16",author:"yuier",cover:null,hide:!0}}),(n,l)=>{const o=E;return D(),F(o,{frontmatter:m(e)},{"main-content-md":a(()=>[l[0]||(l[0]=s("h2",{id:"缘起",tabindex:"-1"},[i("缘起 "),s("a",{class:"header-anchor",href:"#缘起","aria-label":'Permalink to "缘起"'},"​")],-1)),l[1]||(l[1]=s("blockquote",null,[s("p",null,[i("你认识 "),s("a",{href:"https://www.yunyoujun.cn/",target:"_blank",rel:"noreferrer"},"云游君"),i(" 吗？")])],-1)),l[2]||(l[2]=s("p",null,[i("数年前，兴趣使然地，我在云游的一篇"),s("a",{href:"https://www.yunyoujun.cn/posts/how-to-build-your-site",target:"_blank",rel:"noreferrer"},"教程"),i("的指导下成功搭建起了我的第一个博客网站。不过很快我便将其抛之脑后，现在连当时的域名都想不起来了。")],-1)),l[3]||(l[3]=s("p",null,[s("a",{href:"https://zh.moegirl.org.cn/%E9%B8%A1%E4%BD%A0%E5%A4%AA%E7%BE%8E",target:"_blank",rel:"noreferrer"},"两年半"),i("前，云游开始开发并宣传他的 "),s("a",{href:"https://valaxy.site/",target:"_blank",rel:"noreferrer"},"Valaxy"),i(" 框架。两周前，我开始考虑重新搭建我的个人博客；两天前，我开始部署我的博客。")],-1)),l[4]||(l[4]=s("p",null,"可惜的是，当初云游的那篇入门级教程中只讲了如何白嫖 GitHub Pages, 并未涉及如何将静态文件部署到个人服务器上；而且随着博客框架的改变，当初的教程已经不再适合新的博客。因此，我在这里重新记录下我的部署过程。",-1)),u(" more "),l[5]||(l[5]=s("p",null,"当然，作为个人记录，我会略过很多基础但繁琐的内容；我假设读者能够自己搞定我文中未提到的所有步骤，如有不足望海涵。",-1)),l[6]||(l[6]=s("h2",{id:"搭建博客",tabindex:"-1"},[i("搭建博客 "),s("a",{class:"header-anchor",href:"#搭建博客","aria-label":'Permalink to "搭建博客"'},"​")],-1)),l[7]||(l[7]=s("p",null,[i("这里就不细讲了，Valaxy 的文档写得还是挺详细的，照着做没问题："),s("a",{href:"https://valaxy.site/guide/getting-started",target:"_blank",rel:"noreferrer"},"快速上手")],-1)),l[8]||(l[8]=s("p",null,"记得对默认配置进行个性化的修改。如果对我的修改感兴趣，可以把我的仓库克隆到本地参考：",-1)),l[9]||(l[9]=s("p",null,[s("a",{href:"https://github.com/liyuier/liyuier.github.io",target:"_blank",rel:"noreferrer"},"liyuier.github.io")],-1)),l[10]||(l[10]=s("h2",{id:"部署博客",tabindex:"-1"},[i("部署博客 "),s("a",{class:"header-anchor",href:"#部署博客","aria-label":'Permalink to "部署博客"'},"​")],-1)),l[11]||(l[11]=s("h3",{id:"总体思路",tabindex:"-1"},[i("总体思路 "),s("a",{class:"header-anchor",href:"#总体思路","aria-label":'Permalink to "总体思路"'},"​")],-1)),l[12]||(l[12]=s("p",null,"部署方案为 GitHub Pages 与个人服务器双部署。GitHub Pages 使用 Valaxy 提供好的工作流文件即可。个人服务器上，我搭建了一个远程 git 仓库，并使用 git hooks ，收到本地推送后，将代码再克隆到服务器上的构建目录；再执行构建命令，最后将构建出的文件复制到 nginx 工作目录，最终自动部署。",-1)),l[13]||(l[13]=s("h3",{id:"准备工作",tabindex:"-1"},[i("准备工作 "),s("a",{class:"header-anchor",href:"#准备工作","aria-label":'Permalink to "准备工作"'},"​")],-1)),l[14]||(l[14]=s("h4",{id:"远程仓库",tabindex:"-1"},[i("远程仓库 "),s("a",{class:"header-anchor",href:"#远程仓库","aria-label":'Permalink to "远程仓库"'},"​")],-1)),l[15]||(l[15]=s("p",null,[i("见我的另一篇博文 "),s("a",{href:"https://yuier.com/posts/001-build-self-gitrepo-server",target:"_blank",rel:"noreferrer"},"搭建自己的 git 远程仓库服务")],-1)),l[16]||(l[16]=s("p",null,[i("最终搭建出的博客远程仓库地址为 "),s("code",null,"/home/git/repos/liyuier.github.io.git")],-1)),l[17]||(l[17]=s("h4",{id:"构建目录",tabindex:"-1"},[i("构建目录 "),s("a",{class:"header-anchor",href:"#构建目录","aria-label":'Permalink to "构建目录"'},"​")],-1)),l[18]||(l[18]=s("p",null,[s("code",null,"/usr/dev/blog/liyuier.github.io"),i(" . 实际上就是在服务器上的 “本地仓库”")],-1)),l[19]||(l[19]=s("h4",{id:"nginx-工作目录",tabindex:"-1"},[i("nginx 工作目录 "),s("a",{class:"header-anchor",href:"#nginx-工作目录","aria-label":'Permalink to "nginx 工作目录"'},"​")],-1)),l[20]||(l[20]=s("p",null,[s("code",null,"/usr/share/nginx/html"),i(" . 用于保存构建后的文件")],-1)),l[21]||(l[21]=s("h4",{id:"权限赋予",tabindex:"-1"},[i("权限赋予 "),s("a",{class:"header-anchor",href:"#权限赋予","aria-label":'Permalink to "权限赋予"'},"​")],-1)),l[22]||(l[22]=s("p",null,[i("git hook 脚本由 "),s("code",null,"git"),i(" 用户执行，而脚本需要有权限修改 nginx 的工作目录。为此需要进行权限修改。")],-1)),l[23]||(l[23]=s("p",null,[i("默认情况下，nginx 由 "),s("code",null,"www-data"),i(" 组下的 "),s("code",null,"www-data"),i(" 用户执行工作进程。为了实现我们的目标，我们需要将 nginx 工作目录所属的用户组改为 "),s("code",null,"www-data"),i(" ，然后赋予组内成员对该目录的全读写执行权限，最后将 "),s("code",null,"git"),i(" 用户加入 "),s("code",null,"www-data"),i(" 组内。")],-1)),l[24]||(l[24]=s("div",{style:{"max-height":"900px"},class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 1. 将目录组改为 www-data")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," chgrp"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -R"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," www-data"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/nginx/html")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 2. 赋予 www-data 组读写执行权限")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," chmod"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -R"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," g+rwx"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/nginx/html")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 3. 将 git 用户加入 www-data 组")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," usermod"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -aG"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," www-data"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," git")])])]),s("button",{class:"collapse"})],-1)),l[25]||(l[25]=s("h3",{id:"开始工作",tabindex:"-1"},[i("开始工作 "),s("a",{class:"header-anchor",href:"#开始工作","aria-label":'Permalink to "开始工作"'},"​")],-1)),l[26]||(l[26]=s("h4",{id:"hook-脚本编写",tabindex:"-1"},[i("hook 脚本编写 "),s("a",{class:"header-anchor",href:"#hook-脚本编写","aria-label":'Permalink to "hook 脚本编写"'},"​")],-1)),l[27]||(l[27]=s("p",null,[i("进入远程仓库的 "),s("code",null,"hooks"),i(" 目录下，即 "),s("code",null,"/home/git/repos/liyuier.github.io.git/hooks"),i(" 目录")],-1)),l[28]||(l[28]=s("p",null,[i("创建名为 "),s("code",null,"post-receive"),i(" 的文件，并加入以下内容：")],-1)),l[29]||(l[29]=s("div",{style:{"max-height":"900px"},class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 定义日志文件路径（推荐存放在 git 用户有权限的目录）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"LOG_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/home/git/logs/blog_deploy.log"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DEPLOY_LOG_DIR"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$("),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"dirname"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$LOG_FILE"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 创建日志目录（如果不存在）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"mkdir"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -p"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$DEPLOY_LOG_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"chown"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," git:git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$DEPLOY_LOG_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # 确保目录所有权")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 重定向所有输出到日志文件（追加模式）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"exec"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >>"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$LOG_FILE"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," 2>&1")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 添加时间戳分隔符")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -e"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "\\n\\n=== $('),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"date"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},` '+%Y-%m-%d %H:%M:%S') 开始部署 ==="`)]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#!/bin/bash  # 指定使用 bash shell 解释器")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 定义变量：工作目录路径（必须与之前创建的目录一致）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"TARGET"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/usr/dev/blog/liyuier.github.io"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 定义变量：Nginx 的网站根目录（最终部署位置）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DEPLOY_DIR"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/usr/share/nginx/html"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 定义变量：Git 裸仓库路径（用于 git 命令操作）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"GIT_DIR"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/home/git/repos/liyuier.github.io.git"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "➜ Starting auto deployment..."'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # 输出开始提示信息")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 强制检出代码到工作目录（--work-tree 指定工作区，--git-dir 指定仓库位置）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --work-tree="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$TARGET"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --git-dir="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$GIT_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," checkout"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 切换到工作目录（准备执行构建命令）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"cd"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $TARGET")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 安装依赖（--frozen-lockfile 表示严格使用 lock 文件版本，避免版本冲突）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"pnpm"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --frozen-lockfile")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 执行构建命令（根据项目配置，生成 dist/ 目录）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"pnpm"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," run"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," build")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 清理旧的部署文件（避免残留文件干扰）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rm"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -rf"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $DEPLOY_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 递归复制构建结果到 Nginx 目录（-a 参数保留文件属性）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cp"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -a"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dist/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $DEPLOY_DIR"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 修改部署目录所有权（假设 Nginx 以 www-data 用户运行）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# sudo chown -R root $DEPLOY_DIR")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "✅ Deployment completed! Nginx content updated."'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # 输出完成提示")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 检查配置语法")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," !"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," nginx"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"then")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "❌ Nginx 配置测试失败，拒绝重载"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >&2")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  exit"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fi")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 执行重载")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," nginx"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -s"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," reload")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "🔄 Nginx 已平滑重载"')])])]),s("button",{class:"collapse"})],-1)),l[30]||(l[30]=s("h2",{id:"最终实践",tabindex:"-1"},[i("最终实践 "),s("a",{class:"header-anchor",href:"#最终实践","aria-label":'Permalink to "最终实践"'},"​")],-1)),l[31]||(l[31]=s("blockquote",null,[s("p",null,[i("这里为了"),s("s",null,"减少我的工作量"),i("文章简洁，先假设读者已经在服务器上准备好了部署环境，具体来说就是搭设起 nginx 服务器；准备好了博客的构建环境（pnpm）")])],-1)),l[32]||(l[32]=s("p",null,"在本地 PC 上，添加一篇博文，然后提交",-1)),l[33]||(l[33]=s("div",{style:{"max-height":"900px"},class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," add"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," .")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," commit"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "你对本次提交的描述"')])])]),s("button",{class:"collapse"})],-1)),l[34]||(l[34]=s("p",null,[i("由于采用 GitHub Pages 与个人服务器双部署，为了减少心神损耗，建议写个简单的脚本实现这一步。用 Windows 开发就写个 "),s("code",null,"deploy.bat"),i(" ，用 Linux 就写个 "),s("code",null,"deploy.sh")],-1)),l[35]||(l[35]=s("div",{style:{"max-height":"900px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"# 这里假设已经分别为本地仓库绑定了 GitHub 仓和个人远程仓")]),i(`
`),s("span",{class:"line"},[s("span",null,"# 查看远程仓库绑定情况")]),i(`
`),s("span",{class:"line"},[s("span",null,"# git remote -v")]),i(`
`),s("span",{class:"line"},[s("span",null,"# GitHub 仓")]),i(`
`),s("span",{class:"line"},[s("span",null,"# origin  git@github.com:liyuier/liyuier.github.io.git (fetch)")]),i(`
`),s("span",{class:"line"},[s("span",null,"# origin  git@github.com:liyuier/liyuier.github.io.git (push)")]),i(`
`),s("span",{class:"line"},[s("span",null,"# 个人远程仓")]),i(`
`),s("span",{class:"line"},[s("span",null,"# yuier   git@yuier.com:/home/git/repos/liyuier.github.io.git (fetch)")]),i(`
`),s("span",{class:"line"},[s("span",null,"# yuier   git@yuier.com:/home/git/repos/liyuier.github.io.git (push)")])])]),s("button",{class:"collapse"})],-1)),l[36]||(l[36]=s("div",{style:{"max-height":"900px"},class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 反正博客只有自己一个人开发，直接 push -f ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 具体推送的分支也可以自定义，并相应处理 GitHub 工作流文件与上面的 git hook 脚本")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 我这里懒得折腾，直接推主分支，反正就一个自己用的博客")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," push"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," origin"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," master")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," push"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yuier"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," master")])])]),s("button",{class:"collapse"})],-1)),l[37]||(l[37]=s("p",null,"执行脚本后，推送到 GitHub 仓会比较快；而推送到个人仓，由于需要执行 git hook 脚本进行构建与部署，会稍微卡一会，耐心等待就好。",-1)),l[38]||(l[38]=s("p",null,[i("等全部执行完毕后，就可以在浏览器里输入 "),s("code",null,"<你的 nginx 服务地址>"),i(" 访问网站了。如果部署有问题，就可以去 git hook 中配置的日志文件 "),s("code",null,"/home/git/logs/blog_deploy.log"),i(" 中查看详情。")],-1)),l[39]||(l[39]=s("figure",null,[s("img",{src:"https://s2.loli.net/2025/03/11/PcqsQJvOKZXAkgE.png",alt:"image.png",loading:"lazy",decoding:"async"})],-1)),l[40]||(l[40]=s("h2",{id:"附录",tabindex:"-1"},[i("附录 "),s("a",{class:"header-anchor",href:"#附录","aria-label":'Permalink to "附录"'},"​")],-1)),l[41]||(l[41]=s("p",null,"关于 nginx 服务的搭建，其实可讲可不讲，因为网上的相关文章太多了，写得好的也很多，我无意再添无足轻重的一笔。这里只挑一些别人写得少的东西记录下来。",-1)),l[42]||(l[42]=s("h3",{id:"域名解析、服务备案",tabindex:"-1"},[i("域名解析、服务备案 "),s("a",{class:"header-anchor",href:"#域名解析、服务备案","aria-label":'Permalink to "域名解析、服务备案"'},"​")],-1)),l[43]||(l[43]=s("p",null,"一般的云服务商都会对这两块提供详细的引导，跟着做就行了。我用的是腾讯云，个人感觉除了备案本身的繁琐外没遇到什么牙白的事情。",-1)),l[44]||(l[44]=s("h3",{id:"ssl-证书的申请与配置",tabindex:"-1"},[i("SSL 证书的申请与配置 "),s("a",{class:"header-anchor",href:"#ssl-证书的申请与配置","aria-label":'Permalink to "SSL 证书的申请与配置"'},"​")],-1)),l[45]||(l[45]=s("p",null,"申请同样在腾讯云上一站式达成。腾讯云现在（2025 年 3 月）可以免费申请 50 个证书，每个证书有效期 90 天，够用很久很久的了。",-1)),l[46]||(l[46]=s("p",null,[i("申请完后，可以参考 "),s("a",{href:"https://cloud.tencent.com/document/product/400/35244#.E8.AF.81.E4.B9.A6.E5.AE.89.E8.A3.85",target:"_blank",rel:"noreferrer"},"证书安装"),i(" 这个地方在 nginx 服务下配置。")],-1)),l[47]||(l[47]=s("h3",{id:"最后贴一下我的-nginx-conf",tabindex:"-1"},[i("最后贴一下我的 nginx.conf "),s("a",{class:"header-anchor",href:"#最后贴一下我的-nginx-conf","aria-label":'Permalink to "最后贴一下我的 nginx.conf"'},"​")],-1)),l[48]||(l[48]=s("div",{style:{"max-height":"900px"},class:"language-nginx vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"nginx"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#运行用户，默认就是 www-data 组下的 www-data")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"user "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"www-data www-data;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#启动进程,通常设置成和cpu的数量相等")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"worker_processes "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#全局错误日志")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"error_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /usr/share/nginx/logs/error.log;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"error_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /usr/share/nginx/logs/notice.log  "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"notice"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"error_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /usr/share/nginx/logs/info.log  info;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#PID文件，记录当前启动的nginx的进程ID")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"pid "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       /run/nginx.pid;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#工作模式及连接数上限")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"events"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    worker_connections "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1024"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";    "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#单个后台worker process进程的最大并发链接数")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#设定http服务器，利用它的反向代理功能提供负载均衡支持")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"http"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 这一坨来自腾讯云推荐配置")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 新增 HTTPS 优化配置")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_session_cache "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"shared:SSL:10m;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_session_timeout "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5m"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_protocols "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"TLSv1.2 TLSv1.3;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 禁用旧版协议")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_ciphers "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    ssl_prefer_server_ciphers "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 全局开启文件指纹验证")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    etag "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";    ")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #设定mime类型(邮件支持类型),类型由mime.types文件定义")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    include "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      /usr/share/nginx/conf/mime.types;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    default_type "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," application/octet-stream;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #设定日志")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        log_format "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," main"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  '[$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"remote_addr"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"] - [$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"remote_user"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"] [$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"time_local"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'] "$'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"request"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`" '`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                      '$"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"status"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," $"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"body_bytes_sent"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "$'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http_referer"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`" '`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`                      '"$`),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http_user_agent"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'" "$'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http_x_forwarded_for"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"'`),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    access_log "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   /usr/share/nginx/logs/access.log "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"main"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    rewrite_log "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"    on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #sendfile 指令指定 nginx 是否调用 sendfile 函数（zero copy 方式）来输出文件，对于普通应用，")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #必须设为 on,如果用来进行下载等应用磁盘IO重负载应用，可设置为 off，以平衡磁盘与网络I/O处理速度，降低系统的uptime.")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    sendfile "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #tcp_nopush     on;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #连接超时时间")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    keepalive_timeout "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 120"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    tcp_nodelay "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        #gzip压缩开关")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        #gzip  on;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #设定实际的服务器列表")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #upstream zp_server1{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #    server 127.0.0.1:8089;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 强制 HTTP 跳转 HTTPS（重要！）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    server"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        listen "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"80"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        server_name "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"yuier.com;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # 301 永久重定向")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        return"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 301"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," https://$host$request_uri;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #HTTPS服务器")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    server"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        listen "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"443"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ssl http2;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 启用 HTTP/2")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        server_name "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"yuier.com;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # SSL 证书配置（请修改为你的实际路径）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_certificate "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/usr/share/nginx/ssl/yuier.com_bundle.crt;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 证书链文件")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_certificate_key "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/usr/share/nginx/ssl/yuier.com.key;  "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 私钥文件")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # 启用 OCSP Stapling 提升性能")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_stapling "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        ssl_stapling_verify "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        resolver "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"8.8.8.8"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1.1.1.1"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," valid=300s;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        resolver_timeout "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5s"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        # 安全响应头")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Strict-Transport-Security "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"max-age=63072000; includeSubDomains; preload"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X-Content-Type-Options nosniff;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X-Frame-Options DENY;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        gzip "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"on"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        gzip_types "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        index "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"index.html;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        location"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," / "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # content location")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # root /app;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            root "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/usr/share/nginx/html;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # exact matches -> reverse clean urls -> folders -> not found")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            try_files "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$uri $uri.html $uri/ "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"=404"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # non existent pages")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            error_page "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /404.html;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # a folder without index.html raises 403 in this setup")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            error_page "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"403"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /404.html;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # adjust caching headers")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # files in the assets folder have hashes filenames")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            location"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ~*"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}}," ^/assets/ "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                expires "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"1y;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                add_header "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Cache-Control "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"public, immutable"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"collapse"})],-1)),l[49]||(l[49]=s("p",null,[i("上面提到了 "),s("code",null,"mime.types"),i(" 文件，简单说就是配置对于不同文件类型的请求的响应。下面是我的该文件内容：")],-1)),l[50]||(l[50]=s("div",{style:{"max-height":"900px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"types {")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/html                             html htm shtml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/css                              css;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/xml                              xml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/gif                             gif;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/jpeg                            jpeg jpg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/javascript                js;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/atom+xml                  atom;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/rss+xml                   rss;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/mathml                           mml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/plain                            txt;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/vnd.sun.j2me.app-descriptor      jad;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/vnd.wap.wml                      wml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    text/x-component                      htc;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/png                             png;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/tiff                            tif tiff;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/vnd.wap.wbmp                    wbmp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/x-icon                          ico;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/x-jng                           jng;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/x-ms-bmp                        bmp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/svg+xml                         svg svgz;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    image/webp                            webp;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/font-woff                 woff;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/java-archive              jar war ear;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/json                      json;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/mac-binhex40              hqx;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/msword                    doc;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/pdf                       pdf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/postscript                ps eps ai;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/rtf                       rtf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.apple.mpegurl         m3u8;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.ms-excel              xls;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.ms-fontobject         eot;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.ms-powerpoint         ppt;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.wap.wmlc              wmlc;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.google-earth.kml+xml  kml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.google-earth.kmz      kmz;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-7z-compressed           7z;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-cocoa                   cco;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-java-archive-diff       jardiff;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-java-jnlp-file          jnlp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-makeself                run;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-perl                    pl pm;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-pilot                   prc pdb;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-rar-compressed          rar;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-redhat-package-manager  rpm;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-sea                     sea;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-shockwave-flash         swf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-stuffit                 sit;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-tcl                     tcl tk;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-x509-ca-cert            der pem crt;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/x-xpinstall               xpi;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/xhtml+xml                 xhtml;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/xspf+xml                  xspf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/zip                       zip;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              bin exe dll;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              deb;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              dmg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              iso img;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/octet-stream              msi msp msm;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.openxmlformats-officedocument.wordprocessingml.document    docx;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.openxmlformats-officedocument.spreadsheetml.sheet          xlsx;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    application/vnd.openxmlformats-officedocument.presentationml.presentation  pptx;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/midi                            mid midi kar;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/mpeg                            mp3;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/ogg                             ogg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/x-m4a                           m4a;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    audio/x-realaudio                     ra;")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/3gpp                            3gpp 3gp;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/mp2t                            ts;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/mp4                             mp4;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/mpeg                            mpeg mpg;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/quicktime                       mov;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/webm                            webm;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-flv                           flv;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-m4v                           m4v;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-mng                           mng;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-ms-asf                        asx asf;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-ms-wmv                        wmv;")]),i(`
`),s("span",{class:"line"},[s("span",null,"    video/x-msvideo                       avi;")]),i(`
`),s("span",{class:"line"},[s("span",null,"}")])])]),s("button",{class:"collapse"})],-1)),l[51]||(l[51]=s("h2",{id:"以-nginx-部署",tabindex:"-1"},[i("以 nginx 部署 "),s("a",{class:"header-anchor",href:"#以-nginx-部署","aria-label":'Permalink to "以 nginx 部署"'},"​")],-1)),l[52]||(l[52]=s("p",null,[i("见 "),s("a",{href:"https://yuier.com/posts/005-deploy-blog-by-nginx-docker",target:"_blank",rel:"noreferrer"},"使用 nginx 部署博客")],-1))]),"main-header":a(()=>[t(n.$slots,"main-header")]),"main-header-after":a(()=>[t(n.$slots,"main-header-after")]),"main-nav":a(()=>[t(n.$slots,"main-nav")]),"main-content-before":a(()=>[t(n.$slots,"main-content-before")]),"main-content":a(()=>[t(n.$slots,"main-content")]),"main-content-after":a(()=>[t(n.$slots,"main-content-after")]),"main-nav-before":a(()=>[t(n.$slots,"main-nav-before")]),"main-nav-after":a(()=>[t(n.$slots,"main-nav-after")]),comment:a(()=>[t(n.$slots,"comment")]),footer:a(()=>[t(n.$slots,"footer")]),aside:a(()=>[t(n.$slots,"aside")]),"aside-custom":a(()=>[t(n.$slots,"aside-custom")]),default:a(()=>[t(n.$slots,"default")]),_:3},8,["frontmatter"])}}};export{O as default,A as usePageData};
