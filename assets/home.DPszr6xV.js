import{u as T,B as A,W as M,Q as R,A as P,X as N,Y as W,Z as G,$ as O,a0 as Q,a1 as X,y as Z,z as J}from"./app.DJJRq6_7.js";import{a as K}from"./chunks/vue-router.0fijYp3S.js";import{w as f,a1 as n,a9 as c,a5 as i,a4 as C,$ as E,a7 as p,F as g,M as z,ac as $,a2 as y,a3 as Y,ab as h,B as o,aa as V,L as x,ae as j,P as l,ag as I,y as k,a0 as U}from"./framework.CL_twgqk.js";import"./chunks/dayjs.BFInjCTz.js";import{u as ee}from"./chunks/vue-i18n.CRimy4L_.js";import{g as F}from"./animation.C5WYZdPO.js";import"./chunks/pinia.KHo6empO.js";/* empty css                    */import"./chunks/@vueuse/motion.DON3upiQ.js";import"./chunks/nprogress.DUFFUuWH.js";const te={class:"w-full px-4 flex-center"},ne={class:"yun-notice w-full"},se=["innerHTML"],ae=f({__name:"YunNotice",props:{content:{}},setup(r){return(e,t)=>(n(),c("div",te,[i("div",ne,[i("span",{innerHTML:r.content},null,8,se),C(e.$slots,"default")])]))}}),oe={},re={class:"grid-bg"};function ce(r,e){return n(),c("div",re,[p(" <YunAEFrame /> "),p(" <YunAERect /> ")])}const ie=E(oe,[["render",ce]]),le={class:"say"},ue={key:0,class:"say-content animate-fade-in animate-iteration-1"},_e={key:1,class:"say-author"},pe={key:2,class:"say-from"},me=f({__name:"YunSay",setup(r){const e=T(),t=g(""),a=g(""),s=g("");function _(){const u=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;u&&fetch(u).then(m=>{if(m.ok)m.json().then(d=>{if(e.value.say.hitokoto.enable)t.value=d.hitokoto,a.value=d.from_who,s.value=d.from;else{const v=d[Math.floor(Math.random()*d.length)];v.content?(t.value=v.content,a.value=v.author,s.value=v.from):t.value=v}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${m.status}`)}).catch(m=>{console.error(m.message)})}return z(()=>{_()}),(u,m)=>(n(),c("div",le,[t.value?(n(),c("span",ue,$(t.value),1)):p("v-if",!0),a.value?(n(),c("span",_e,$(a.value),1)):p("v-if",!0),s.value?(n(),c("span",pe,$(s.value),1)):p("v-if",!0)]))}}),fe=f({__name:"YunSiteLinkItem",props:{page:{}},setup(r){const{$t:e}=A(),t=M();return(a,s)=>{const _=R;return n(),y(_,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:r.page.url,title:o(e)(r.page.name),style:V(`color:${r.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:s[0]||(s[0]=u=>o(t).fullscreenMenu.isOpen=!1)},{default:Y(()=>[i("div",{class:h([r.page.icon,"icon"])},null,2),i("span",null,$(o(e)(r.page.name)),1)]),_:1},8,["to","title","style"])}}}),de={key:0,class:"site-description text-$va-c-text text-sm"},ve=f({__name:"YunSiteDescription",setup(r){const e=P(),{$t:t}=A();return(a,s)=>o(e).description?(n(),c("div",de,$(o(t)(o(e).description)),1)):p("v-if",!0)}}),he={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},be=f({__name:"YunSiteSubtitle",setup(r){const{$t:e}=A(),t=P();return(a,s)=>o(t).subtitle?(n(),c("h4",he,$(o(e)(o(t).subtitle)),1)):p("v-if",!0)}}),ye=f({__name:"YunAnimLineDraw",setup(r){const e=g(!1);return z(()=>{e.value=!0}),(t,a)=>(n(),c("div",{class:h(["line",{enter:e.value}])},null,2))}}),ge=E(ye,[["__scopeId","data-v-3207662b"]]),$e={key:0,class:"site-author-intro",m:"t-0 b-4"},xe=f({__name:"YunAuthorIntro",setup(r){const e=P(),{$t:t}=A();return(a,s)=>o(e).author.intro?(n(),c("div",$e,$(o(t)(o(e).author.intro)),1)):p("v-if",!0)}}),ke={key:0,class:"line-burst-effects absolute"},we=f({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(r){const e=r,t=g(!0);return z(async()=>{await N(e.delay),t.value=!1,await N(e.duration),t.value=!0}),(a,s)=>t.value?p("v-if",!0):(n(),c("div",ke,[(n(),c(x,null,j(8,_=>i("div",{key:_,class:"line"},[...s[0]||(s[0]=[i("div",null,[i("span")],-1)])])),64))]))}}),Ye={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},Se={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},Ce={class:"py-4 md:py-5 lg:pt-6"},Ae={flex:"~ col",class:"gap-2 items-center justify-center"},Be={class:"scale-x--100 py-4 md:py-5 lg:pb-6"},Le={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},Ne=f({__name:"YunPrologueSquare",setup(r){const e=T(),{t}=ee(),a=g(!1);return(s,_)=>{const u=we,m=W,d=G,v=xe,b=ge,B=O,w=be,S=ve,D=Q,L=fe;return n(),c("div",Ye,[C(s.$slots,"default",{},void 0,!0),i("div",{flex:"~ col center",class:h(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:a.value}])},[l(I,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:_[0]||(_[0]=q=>a.value=!0)},{default:Y(()=>[i("div",Se,[l(u,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),l(I,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:Y(()=>[l(m)]),_:1})])]),_:1}),i("div",{class:h(["info",{show:a.value}])},[l(d,{class:"mt-3"}),l(v),i("div",Ce,[l(b)]),i("div",Ae,[l(B),l(w),l(S)]),i("div",Be,[l(b)]),l(D),i("div",Le,[l(L,{page:{name:o(t)("menu.posts"),icon:"i-ri-article-line",url:"/posts/"}},null,8,["page"]),C(s.$slots,"default",{},void 0,!0),(n(!0),c(x,null,j(o(e).pages,(q,H)=>(n(),y(L,{key:H,page:q},null,8,["page"]))),128))])],2)],2)])}}}),Ie=E(Ne,[["__scopeId","data-v-3d89b464"]]),Te=f({__name:"YunGoDown",setup(r){return(e,t)=>(n(),c("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...a)=>o(F)&&o(F)(...a))},[...t[1]||(t[1]=[i("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])]))}}),ze={class:"banner-char-container"},De={class:"char"},Me=f({__name:"YunBannerCharContainer",props:{title:{},chars:{default:()=>[]}},setup(r){return(e,t)=>(n(),c("div",ze,[(n(!0),c(x,null,j(r.title,(a,s)=>(n(),c("div",{key:s,class:"char-box"},[i("span",{class:h([s%2!==0?"char-right":"char-left"]),style:V({"--banner-char-size":`${r.chars[s]}rem`})},[i("span",De,$(a),1)],6)]))),128))]))}});function Pe(r){const{$tO:e}=A(),t=k(()=>Array.isArray(r.title)?r.title:e(r.title)),a=k(()=>{const _=[];for(let u=0;u<t.value.length;u++){const m=X(1.5,3.5);_.push(m)}return _}),s=k(()=>a.value.reduce((_,u)=>_+u,0));return{bannerTitle:t,chars:a,totalCharHeight:s}}const Ee={class:"banner-line-container"},Ve={class:"banner-line-container bottom"},je=f({__name:"YunBanner",setup(r){const e=M(),t=T(),{totalCharHeight:a,chars:s,bannerTitle:_}=Pe(t.value.banner),u=k(()=>{const b={"--total-char-height":`${a.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${a.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(b.borderBottom="1px solid var(--banner-line-color)"),b}),m=g("enter"),d=k(()=>m.value),v=g("banner");return z(async()=>{await N(500),m.value="active",e.isNimbo&&(await N(t.value.banner.duration||500),m.value="exit",v.value="prologue")}),(b,B)=>{const w=Me,S=Te;return n(),c("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:V(u.value)},[i("div",Ee,[i("div",{class:h(["banner-line vertical-line-top",d.value])},null,2)]),o(e).isNimbo?(n(),c(x,{key:0},[v.value==="banner"?(n(),y(w,{key:0,title:o(_),chars:o(s)},null,8,["title","chars"])):p("v-if",!0)],64)):p("v-if",!0),o(e).isStrato?(n(),y(w,{key:1,title:o(_),chars:o(s)},null,8,["title","chars"])):p("v-if",!0),i("div",Ve,[i("div",{class:h(["banner-line vertical-line-bottom",d.value])},null,2)]),l(S)],4)}}}),qe={class:"w-full"},Fe={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},He={key:1,class:"h-$yun-nav-height"},et=f({__name:"home",setup(r){const e=M(),t=K(),a=T(),s=k(()=>t.path.startsWith("/page")),_=k(()=>{const u=a.value.notice;return u.enable&&(s.value?!u.hideInPages:!0)});return(u,m)=>{const d=je,v=Ie,b=me,B=ie,w=ae,S=U("RouterView"),D=Z,L=J;return n(),c(x,null,[l(D,{class:h(["items-center flex-col",{"mt-0!":!s.value}])},{default:Y(()=>[o(a).banner.enable?(n(),c(x,{key:0},[s.value?p("v-if",!0):(n(),c(x,{key:0},[i("div",qe,[l(d),o(e).isNimbo?(n(),y(I,{key:0,"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:Y(()=>[i("div",Fe,[l(I,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:Y(()=>[l(v,{class:"z-1"})]),_:1})])]),_:1})):p("v-if",!0),o(a).say.enable?(n(),y(b,{key:1,w:"full"})):p("v-if",!0)]),o(e).isNimbo?(n(),y(B,{key:0,class:"absolute left-0 top-0 right-0 bottom-0"})):p("v-if",!0)],64))],64)):(n(),c("div",He)),_.value?(n(),y(w,{key:2,class:h(["mb-2 md:mb-6",{"mt-4":!s.value}]),content:o(a).notice.content},null,8,["class","content"])):p("v-if",!0),C(u.$slots,"board"),C(u.$slots,"default",{},()=>[l(S)])]),_:3},8,["class"]),l(L)],64)}}});export{et as default};
